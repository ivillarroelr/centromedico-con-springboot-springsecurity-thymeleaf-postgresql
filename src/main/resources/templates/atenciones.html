<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head th:replace="/fragments/header :: head">
</head>

<body>
<div class="d-flex" id="wrapper">

    <!-- Sidebar -->
    <div th:replace="/fragments/sidebar :: div">
    </div>
    
    <!-- Page Content -->
    <div id="page-content-wrapper">
        
      <!-- Navbar -->
      <nav th:replace="/fragments/navbar :: nav">
      </nav>

      <div class="container-fluid"> <!-- BODY LOL -->
        <ul class="nav nav-tabs">
            <li class="nav-item">
              <a class="nav-link active" href="#">VER ATENCIONES</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" th:href="@{/nuevaatencion}">NUEVO ATENCION</a>
            </li>
        </ul>   
          
        <table class="table table-bordered table-hover">
            <thead class="thead-dark">
                <tr>
                    <th> ID Atencion </th>
                    <th> Fecha Atencion </th>
                    <th> RUT Paciente </th>
                    <th> Nombre Paciente </th>
                    <th> RUT Medico </th>
                    <th> Nombre Medico </th>
                    <th> Especialidad  </th>
                    <th> Comentarios </th>
                </tr>
            </thead>
            <tbody>
          <tr th:if="${atenciones.empty}">
                    <td colspan="8"> No hay atenciones registradas </td>
                </tr>
                <tr th:each="atencion : ${atenciones}">
                    <td><span th:text="${atencion.getIdAtencion()}"></span></td>
                    <td><span th:text="${atencion.getFechaAtencion()}"></span></td>
                    <td><span th:text="${atencion.getPaciente().getRut()}"></span></td>
                    <td><span th:text="${atencion.getPaciente().getNombre()+' '+atencion.getPaciente().getApellido()}"></span></td>
                    <td><span th:text="${atencion.getMedico().getRut()}"></span></td>
                    <td><span th:text="${atencion.getMedico().getNombre()}"></span></td>
                    <td><span th:text="${atencion.getMedico().getEspecialidad().getNombreEspecialidad()}"></span></td>
                    <td><span th:text="${atencion.getComentarios()}"></span></td>
                </tr>
            </tbody>
        </table>
      </div>
    </div>
    <!-- /#page-content-wrapper -->

  </div>
  <!-- /#wrapper -->
  <form name="logoutForm" th:action="@{/logout}" method="post" th:hidden="true">
    <input hidden type="submit" value="Sign Out"/>
 </form> 

  <!-- Bootstrap core JavaScript -->
  <script th:src="@{js/jquery.min.js}"></script>
  <script th:src="@{js/bootstrap.min.js}"></script>
  <script th:src="@{js/sweetalert2.js}"></script>
  <script th:src="@{js/custom.js}"></script>

</body>
</html>
